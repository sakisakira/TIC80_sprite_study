# title:   grass walk
# author:  game developer, email, etc.
# desc:    short description
# site:    website link
# license: MIT License (change this to your license of choice)
# version: 0.1
# script:  ruby

$t=0
$x=96
$y=24
$flip=0
BodySpriteId=304

def TIC
	dir=0
	if btn(0) then # up
		$y-=1
	end
	if btn(1) then # down
		$y+=1
	end
	if btn(2) then # left
		$x-=1;dir=-1
	end
	if btn(3) then # right
		$x+=1;dir=1
	end

	_y=$y+40
	_x=$x+40
	vbank(0)
	cls(15)
	vbank(1)
	cls(0)
	spr_walk(256,$x,$y,dir,$t)
	print("Hello, Grass!",_x,$y+20,14)
	$t+=1
end

def spr_walk(fid,x,y,dir,t)
	i=t/8%4
	i=1 if dir==0 or i==3
	bid=BodySpriteId+i*2
	if dir<0 then
		f=0
	elsif dir>0 then
		f=1
	else
		f=$flip
	end
	$flip=f
	vbank(1)
	spr(bid,x,y+16,0,1,f,0,2,2)
	spr(fid,x,y,0,1,f,0,2,3)
end

# <TILES>
# 001:eccccccccc888888caaaaaaaca888888cacccccccacc0ccccacc0ccccacc0ccc
# 002:ccccceee8888cceeaaaa0cee888a0ceeccca0ccc0cca0c0c0cca0c0c0cca0c0c
# 003:eccccccccc888888caaaaaaaca888888cacccccccacccccccacc0ccccacc0ccc
# 004:ccccceee8888cceeaaaa0cee888a0ceeccca0cccccca0c0c0cca0c0c0cca0c0c
# 017:cacccccccaaaaaaacaaacaaacaaaaccccaaaaaaac8888888cc000cccecccccec
# 018:ccca00ccaaaa0ccecaaa0ceeaaaa0ceeaaaa0cee8888ccee000cceeecccceeee
# 019:cacccccccaaaaaaacaaacaaacaaaaccccaaaaaaac8888888cc000cccecccccec
# 020:ccca00ccaaaa0ccecaaa0ceeaaaa0ceeaaaa0cee8888ccee000cceeecccceeee
# </TILES>

# <SPRITES>
# 000:0000000000000030000000320000003200003333003333330033333303333333
# 001:0000000000000000000000000000000033000000333000003333300033333300
# 016:033337330337373303777773007f977700799277007766730077777300766733
# 017:3333330033333300333333003333330033333200333332003333320033332200
# 032:0007773300000333000000300000000000000000000000000000000000000000
# 033:3333220000033200000332000000000000000000000000000000000000000000
# 048:0000000000000aaa0000aaaf0000aaff0000afff0000aa6600000a770000a777
# 049:00000000fffa0000fffa0000ffaa0000ffaa00006aaa0000aaaa0000aaaa0000
# 050:0000000000000aaf0000aaaf0000aaff0000aaff0000aaa600000aa70000aaa7
# 051:00000000ffa00000ffa00000ffaa0000ffaa00006aaa00007aaa00007aaa0000
# 052:0000000000000aaa0000aaaf0000aaaf0000aaaa0000aaaa00000aaa0000aaaa
# 053:00000000fffa0000fffa0000ffff0000ffff0000a66a0000a77a0000aa770000
# 064:0000f77f0000aaaa000fffff0000666000076660022777000222770000022200
# 065:fffff000aaaaa000fffff0000666000007770000077770000077720002222200
# 066:0000fff70000aaa7000ffff70000006600000077000000770000007700000222
# 067:7ffff0007aaaa0007ffff0006000000070000000700000007000000020000000
# 068:0000ffff0000aaaa000fffff0000666000077770022777000222770000022200
# 069:ff77f000aa77a000fffff0000666000006660000077770000077720002222200
# </SPRITES>

# <WAVES>
# 000:00000000ffffffff00000000ffffffff
# 001:0123456789abcdeffedcba9876543210
# 002:0123456789abcdef0123456789abcdef
# </WAVES>

# <SFX>
# 000:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000304000000000
# </SFX>

# <TRACKS>
# 000:100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
# </TRACKS>

# <PALETTE>
# 000:1a1c2c5d275db13e53ef7d57ffcd75a7f07038b76425717929366f3b5dc941a6f673eff7f4f4f494b0c2566c86333c57
# 001:000000604e618a5655af7569ba8c6fdfb089f3a6b2f6c7c3fdeae07395c05a2fd8f08c27f6b95bff4200ffffffcfd8ff
# </PALETTE>

